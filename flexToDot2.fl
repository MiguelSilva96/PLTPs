%option noyywrap

%{
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
%}



%%

	FILE *output  = fopen("out3.bib", "w");

[\ ]and[\ ] 		{fprintf(output,"|");}

[\ ]and[\ ][\ ]and[\ ] 		{fprintf(output,"|");}

\}		{}

.|\n 		{fprintf(output,"%s", yytext);}

%%



int main (int argc, char* argv[]) {
    FILE *input;
    input = fopen(argv[1], "r");
    yyin = input;
    yylex();
    return 0;
}